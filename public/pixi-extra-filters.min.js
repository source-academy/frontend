!function t(e,o,r){function l(n,a){if(!o[n]){if(!e[n]){var u="function"==typeof require&&require;if(!a&&u)return u(n,!0);if(i)return i(n,!0);var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}var f=o[n]={exports:{}};e[n][0].call(f.exports,function(t){var o=e[n][1][t];return l(o?o:t)},f,f.exports,t,e,o,r)}return o[n].exports}for(var i="function"==typeof require&&require,n=0;n<r.length;n++)l(r[n]);return l}({1:[function(t,e,o){e.exports={GlowFilter:t("./filters/glow/GlowFilter"),OutlineFilter:t("./filters/outline/OutlineFilter")};for(var r in e.exports)PIXI.filters[r]=e.exports[r]},{"./filters/glow/GlowFilter":2,"./filters/outline/OutlineFilter":3}],2:[function(t,e,o){function r(t,e,o,r,l,i,n){PIXI.filters.AbstractFilter.call(this,null,["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float distance;","uniform float outerStrength;","uniform float innerStrength;","uniform vec4 glowColor;","uniform float pixelWidth;","uniform float pixelHeight;","vec2 px = vec2(pixelWidth, pixelHeight);","void main(void) {"," const float PI = 3.14159265358979323846264;"," vec4 ownColor = texture2D(uSampler, vTextureCoord);"," vec4 curColor;"," float totalAlpha = 0.0;"," float maxTotalAlpha = 0.0;"," float cosAngle;"," float sinAngle;"," for (float angle = 0.0; angle <= PI * 2.0; angle += "+(1/n/o).toFixed(7)+") {"," cosAngle = cos(angle);"," sinAngle = sin(angle);"," for (float curDistance = 1.0; curDistance <= "+o.toFixed(7)+"; curDistance++) {"," curColor = texture2D(uSampler, vec2(vTextureCoord.x + cosAngle * curDistance * px.x, vTextureCoord.y + sinAngle * curDistance * px.y));"," totalAlpha += (distance - curDistance) * curColor.a;"," maxTotalAlpha += (distance - curDistance);"," }"," }"," maxTotalAlpha = max(maxTotalAlpha, 0.0001);"," ownColor.a = max(ownColor.a, 0.0001);"," ownColor.rgb = ownColor.rgb / ownColor.a;"," float outerGlowAlpha = (totalAlpha / maxTotalAlpha) * outerStrength * (1. - ownColor.a);"," float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;"," float resultAlpha = (ownColor.a + outerGlowAlpha);"," gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);","}"].join("\n"),{distance:{type:"1f",value:o},outerStrength:{type:"1f",value:0},innerStrength:{type:"1f",value:0},glowColor:{type:"4f",value:new Float32Array([0,0,0,1])},pixelWidth:{type:"1f",value:0},pixelHeight:{type:"1f",value:0}}),n=Math.pow(n,1/3),this.quality=n,this.uniforms.distance.value*=n,t*=n,e*=n,this.color=i,this.outerStrength=r,this.innerStrength=l,this.viewWidth=t,this.viewHeight=e}r.prototype=Object.create(PIXI.filters.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{color:{get:function(){return PIXI.utils.rgb2hex(this.uniforms.glowColor.value)},set:function(t){PIXI.utils.hex2rgb(t,this.uniforms.glowColor.value)}},outerStrength:{get:function(){return this.uniforms.outerStrength.value},set:function(t){this.uniforms.outerStrength.value=t}},innerStrength:{get:function(){return this.uniforms.innerStrength.value},set:function(t){this.uniforms.innerStrength.value=t}},viewWidth:{get:function(){return 1/this.uniforms.pixelWidth.value},set:function(t){this.uniforms.pixelWidth.value=1/t}},viewHeight:{get:function(){return 1/this.uniforms.pixelHeight.value},set:function(t){this.uniforms.pixelHeight.value=1/t}}})},{}],3:[function(t,e,o){function r(t,e,o,r){PIXI.filters.AbstractFilter.call(this,null,["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform float thickness;","uniform vec4 outlineColor;","uniform float pixelWidth;","uniform float pixelHeight;","vec2 px = vec2(pixelWidth, pixelHeight);","void main(void) {"," const float PI = 3.14159265358979323846264;"," vec4 ownColor = texture2D(uSampler, vTextureCoord);"," vec4 curColor;"," float maxAlpha = 0.;"," for (float angle = 0.; angle < PI * 2.; angle += "+(1/o).toFixed(7)+") {"," curColor = texture2D(uSampler, vec2(vTextureCoord.x + thickness * px.x * cos(angle), vTextureCoord.y + thickness * px.y * sin(angle)));"," maxAlpha = max(maxAlpha, curColor.a);"," }"," float resultAlpha = max(maxAlpha, ownColor.a);"," gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);","}"].join("\n"),{thickness:{type:"1f",value:o},outlineColor:{type:"4f",value:new Float32Array([0,0,0,1])},pixelWidth:{type:"1f",value:null},pixelHeight:{type:"1f",value:null}}),this.color=r,this.viewWidth=t,this.viewHeight=e}r.prototype=Object.create(PIXI.filters.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{color:{get:function(){return PIXI.utils.rgb2hex(this.uniforms.outlineColor.value)},set:function(t){PIXI.utils.hex2rgb(t,this.uniforms.outlineColor.value)}},viewWidth:{get:function(){return 1/this.uniforms.pixelWidth.value},set:function(t){this.uniforms.pixelWidth.value=1/t}},viewHeight:{get:function(){return 1/this.uniforms.pixelHeight.value},set:function(t){this.uniforms.pixelHeight.value=1/t}}})},{}]},{},[1]);
